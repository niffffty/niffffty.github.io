<html>
<body>
<!--StartFragment--><!DOCTYPE html><h1 cid="n0" mdtype="heading" class="md-end-block md-heading" style="box-sizing: border-box; break-after: avoid-page; break-inside: avoid; orphans: 4; font-size: 2.25em; margin-top: 1rem; margin-bottom: 1rem; position: relative; font-weight: bold; line-height: 1.2; cursor: text; padding-bottom: 0.3em; border-bottom: 1px solid rgb(238, 238, 238); white-space: pre-wrap; color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, &quot;Clear Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"><span md-inline="plain" class="md-plain md-expand" style="box-sizing: border-box;">Uart、Usart、SPI、I2C通信</span></h1><ul class="ul-list" cid="n2" mdtype="list" data-mark="-" style="box-sizing: border-box; margin: 0.8em 0px; padding-left: 30px; position: relative; color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, &quot;Clear Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"><li class="md-list-item" cid="n3" mdtype="list_item" style="box-sizing: border-box; margin: 0px; position: relative;"><p cid="n4" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0px 0px 0.5rem; white-space: pre-wrap; position: relative;"><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">Uart</span><span md-inline="strong" class="md-pair-s " style="box-sizing: border-box;"><strong style="box-sizing: border-box;"><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">（通用异步收发器）</span></strong></span><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">：</span></p><ul class="ul-list" cid="n5" mdtype="list" data-mark="-" style="box-sizing: border-box; margin: 0px; padding-left: 30px; position: relative;"><li class="md-list-item" cid="n6" mdtype="list_item" style="box-sizing: border-box; margin: 0px; position: relative;"><p cid="n7" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0px 0px 0.5rem; white-space: pre-wrap; position: relative;"><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">特点：</span></p><ul class="ul-list" cid="n8" mdtype="list" data-mark="-" style="box-sizing: border-box; margin: 0px; padding-left: 30px; position: relative;"><li class="md-list-item" cid="n9" mdtype="list_item" style="box-sizing: border-box; margin: 0px; position: relative;"><p cid="n10" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0px 0px 0.5rem; white-space: pre-wrap; position: relative;"><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">仅需TX、RX两根线</span></p></li><li class="md-list-item" cid="n11" mdtype="list_item" style="box-sizing: border-box; margin: 0px; position: relative;"><p cid="n12" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0px 0px 0.5rem; white-space: pre-wrap; position: relative;"><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">异步通信</span></p></li><li class="md-list-item" cid="n13" mdtype="list_item" style="box-sizing: border-box; margin: 0px; position: relative;"><p cid="n14" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0px 0px 0.5rem; white-space: pre-wrap; position: relative;"><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">全双工通信</span></p></li><li class="md-list-item" cid="n15" mdtype="list_item" style="box-sizing: border-box; margin: 0px; position: relative;"><p cid="n16" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0px 0px 0.5rem; white-space: pre-wrap; position: relative;"><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">数据帧：起始位+数据位+可选校验位 + 停止位</span></p></li></ul></li><li class="md-list-item" cid="n17" mdtype="list_item" style="box-sizing: border-box; margin: 0px; position: relative;"><p cid="n18" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0px 0px 0.5rem; white-space: pre-wrap; position: relative;"><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">使用场景：低成本、近距离通信，如mcu与传感器、计算机串口调试</span></p></li><li class="md-list-item" cid="n19" mdtype="list_item" style="box-sizing: border-box; margin: 0px; position: relative;"><p cid="n20" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0px 0px 0.5rem; white-space: pre-wrap; position: relative;"><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">优缺点：</span></p><ul class="ul-list" cid="n21" mdtype="list" data-mark="-" style="box-sizing: border-box; margin: 0px; padding-left: 30px; position: relative;"><li class="md-list-item" cid="n22" mdtype="list_item" style="box-sizing: border-box; margin: 0px; position: relative;"><p cid="n23" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0px 0px 0.5rem; white-space: pre-wrap; position: relative;"><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">简单易用，无需时钟线，抗干扰能力强</span></p></li><li class="md-list-item" cid="n24" mdtype="list_item" style="box-sizing: border-box; margin: 0px; position: relative;"><p cid="n25" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0px 0px 0.5rem; white-space: pre-wrap; position: relative;"><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">速率慢，不支持多设备</span></p></li></ul></li></ul></li><li class="md-list-item" cid="n26" mdtype="list_item" style="box-sizing: border-box; margin: 0px; position: relative;"><p cid="n27" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0px 0px 0.5rem; white-space: pre-wrap; position: relative;"><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">Usart</span><span md-inline="strong" class="md-pair-s " style="box-sizing: border-box;"><strong style="box-sizing: border-box;"><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">（通用同步/异步收发器）</span></strong></span><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">：</span></p><ul class="ul-list" cid="n28" mdtype="list" data-mark="-" style="box-sizing: border-box; margin: 0px; padding-left: 30px; position: relative;"><li class="md-list-item" cid="n29" mdtype="list_item" style="box-sizing: border-box; margin: 0px; position: relative;"><p cid="n30" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0px 0px 0.5rem; white-space: pre-wrap; position: relative;"><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">特点：</span><span md-inline="tab" class="md-tab" style="box-sizing: border-box; display: inline-block; white-space: pre;">	</span></p><ul class="ul-list" cid="n31" mdtype="list" data-mark="-" style="box-sizing: border-box; margin: 0px; padding-left: 30px; position: relative;"><li class="md-list-item" cid="n32" mdtype="list_item" style="box-sizing: border-box; margin: 0px; position: relative;"><p cid="n33" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0px 0px 0.5rem; white-space: pre-wrap; position: relative;"><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">支持同步/异步，异步时和uart相同，同步时增加SCLK时钟线</span></p></li><li class="md-list-item" cid="n34" mdtype="list_item" style="box-sizing: border-box; margin: 0px; position: relative;"><p cid="n35" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0px 0px 0.5rem; white-space: pre-wrap; position: relative;"><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">支持更高速率</span></p></li></ul></li><li class="md-list-item" cid="n36" mdtype="list_item" style="box-sizing: border-box; margin: 0px; position: relative;"><p cid="n37" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0px 0px 0.5rem; white-space: pre-wrap; position: relative;"><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">应用场景：</span></p><ul class="ul-list" cid="n38" mdtype="list" data-mark="-" style="box-sizing: border-box; margin: 0px; padding-left: 30px; position: relative;"><li class="md-list-item" cid="n39" mdtype="list_item" style="box-sizing: border-box; margin: 0px; position: relative;"><p cid="n40" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0px 0px 0.5rem; white-space: pre-wrap; position: relative;"><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">需要同步通信的高性能场景，如智能卡、IrDA红外通信</span></p></li></ul></li><li class="md-list-item" cid="n41" mdtype="list_item" style="box-sizing: border-box; margin: 0px; position: relative;"><p cid="n42" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0px 0px 0.5rem; white-space: pre-wrap; position: relative;"><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">优缺点：</span></p><ul class="ul-list" cid="n43" mdtype="list" data-mark="-" style="box-sizing: border-box; margin: 0px; padding-left: 30px; position: relative;"><li class="md-list-item" cid="n44" mdtype="list_item" style="box-sizing: border-box; margin: 0px; position: relative;"><p cid="n45" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0px 0px 0.5rem; white-space: pre-wrap; position: relative;"><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">灵活，支持多种协议</span></p></li><li class="md-list-item" cid="n46" mdtype="list_item" style="box-sizing: border-box; margin: 0px; position: relative;"><p cid="n47" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0px 0px 0.5rem; white-space: pre-wrap; position: relative;"><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">硬件复杂度高于uart</span></p></li></ul></li></ul></li><li class="md-list-item" cid="n48" mdtype="list_item" style="box-sizing: border-box; margin: 0px; position: relative;"><p cid="n49" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0px 0px 0.5rem; white-space: pre-wrap; position: relative;"><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">SPI</span><span md-inline="strong" class="md-pair-s " style="box-sizing: border-box;"><strong style="box-sizing: border-box;"><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">（串行外设接口）</span></strong></span><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">：</span></p><ul class="ul-list" cid="n50" mdtype="list" data-mark="-" style="box-sizing: border-box; margin: 0px; padding-left: 30px; position: relative;"><li class="md-list-item" cid="n51" mdtype="list_item" style="box-sizing: border-box; margin: 0px; position: relative;"><p cid="n52" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0px 0px 0.5rem; white-space: pre-wrap; position: relative;"><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">特点：</span></p><ul class="ul-list" cid="n53" mdtype="list" data-mark="-" style="box-sizing: border-box; margin: 0px; padding-left: 30px; position: relative;"><li class="md-list-item" cid="n54" mdtype="list_item" style="box-sizing: border-box; margin: 0px; position: relative;"><p cid="n55" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0px 0px 0.5rem; white-space: pre-wrap; position: relative;"><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">四线制：SCLK，MOSI，MISO，CS</span></p></li><li class="md-list-item" cid="n56" mdtype="list_item" style="box-sizing: border-box; margin: 0px; position: relative;"><p cid="n57" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0px 0px 0.5rem; white-space: pre-wrap; position: relative;"><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">同步通信</span></p></li><li class="md-list-item" cid="n58" mdtype="list_item" style="box-sizing: border-box; margin: 0px; position: relative;"><p cid="n59" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0px 0px 0.5rem; white-space: pre-wrap; position: relative;"><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">全双工</span></p></li><li class="md-list-item" cid="n60" mdtype="list_item" style="box-sizing: border-box; margin: 0px; position: relative;"><p cid="n61" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0px 0px 0.5rem; white-space: pre-wrap; position: relative;"><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">速率高（可达10Mbps）</span></p></li><li class="md-list-item" cid="n62" mdtype="list_item" style="box-sizing: border-box; margin: 0px; position: relative;"><p cid="n63" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0px 0px 0.5rem; white-space: pre-wrap; position: relative;"><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">支持一主多从</span></p></li></ul></li><li class="md-list-item" cid="n64" mdtype="list_item" style="box-sizing: border-box; margin: 0px; position: relative;"><p cid="n65" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0px 0px 0.5rem; white-space: pre-wrap; position: relative;"><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">应用场景：</span></p><ul class="ul-list" cid="n66" mdtype="list" data-mark="-" style="box-sizing: border-box; margin: 0px; padding-left: 30px; position: relative;"><li class="md-list-item" cid="n67" mdtype="list_item" style="box-sizing: border-box; margin: 0px; position: relative;"><p cid="n68" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0px 0px 0.5rem; white-space: pre-wrap; position: relative;"><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">高速短距离通信，如Flash存储器、ADC模块、LCD驱动器</span></p></li></ul></li><li class="md-list-item" cid="n69" mdtype="list_item" style="box-sizing: border-box; margin: 0px; position: relative;"><p cid="n70" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0px 0px 0.5rem; white-space: pre-wrap; position: relative;"><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">优缺点：</span></p><ul class="ul-list" cid="n71" mdtype="list" data-mark="-" style="box-sizing: border-box; margin: 0px; padding-left: 30px; position: relative;"><li class="md-list-item" cid="n72" mdtype="list_item" style="box-sizing: border-box; margin: 0px; position: relative;"><p cid="n73" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0px 0px 0.5rem; white-space: pre-wrap; position: relative;"><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">全双工、高速、硬件简单</span></p></li><li class="md-list-item" cid="n74" mdtype="list_item" style="box-sizing: border-box; margin: 0px; position: relative;"><p cid="n75" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0px 0px 0.5rem; white-space: pre-wrap; position: relative;"><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">占用引脚多</span></p></li></ul></li></ul></li><li class="md-list-item" cid="n76" mdtype="list_item" style="box-sizing: border-box; margin: 0px; position: relative;"><p cid="n77" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0px 0px 0.5rem; white-space: pre-wrap; position: relative;"><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">I2C</span><span md-inline="strong" class="md-pair-s " style="box-sizing: border-box;"><strong style="box-sizing: border-box;"><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">（集成电路总线）</span></strong></span><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">：</span></p><ul class="ul-list" cid="n78" mdtype="list" data-mark="-" style="box-sizing: border-box; margin: 0px; padding-left: 30px; position: relative;"><li class="md-list-item" cid="n79" mdtype="list_item" style="box-sizing: border-box; margin: 0px; position: relative;"><p cid="n80" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0px 0px 0.5rem; white-space: pre-wrap; position: relative;"><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">特点：</span></p><ul class="ul-list" cid="n81" mdtype="list" data-mark="-" style="box-sizing: border-box; margin: 0px; padding-left: 30px; position: relative;"><li class="md-list-item" cid="n82" mdtype="list_item" style="box-sizing: border-box; margin: 0px; position: relative;"><p cid="n83" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0px 0px 0.5rem; white-space: pre-wrap; position: relative;"><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">两线制：SCL 时钟线，SDA数据线</span></p></li><li class="md-list-item" cid="n84" mdtype="list_item" style="box-sizing: border-box; margin: 0px; position: relative;"><p cid="n85" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0px 0px 0.5rem; white-space: pre-wrap; position: relative;"><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">同步通信</span></p></li><li class="md-list-item" cid="n86" mdtype="list_item" style="box-sizing: border-box; margin: 0px; position: relative;"><p cid="n87" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0px 0px 0.5rem; white-space: pre-wrap; position: relative;"><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">半双工通信</span></p></li><li class="md-list-item" cid="n88" mdtype="list_item" style="box-sizing: border-box; margin: 0px; position: relative;"><p cid="n89" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0px 0px 0.5rem; white-space: pre-wrap; position: relative;"><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">支持多主多从</span></p></li></ul></li><li class="md-list-item" cid="n90" mdtype="list_item" style="box-sizing: border-box; margin: 0px; position: relative;"><p cid="n91" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0px 0px 0.5rem; white-space: pre-wrap; position: relative;"><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">应用场景：</span></p><ul class="ul-list" cid="n92" mdtype="list" data-mark="-" style="box-sizing: border-box; margin: 0px; padding-left: 30px; position: relative;"><li class="md-list-item" cid="n93" mdtype="list_item" style="box-sizing: border-box; margin: 0px; position: relative;"><p cid="n94" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0px 0px 0.5rem; white-space: pre-wrap; position: relative;"><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">短距离低速设备，如EEPROM、温度传感器、RTC时钟</span></p></li></ul></li><li class="md-list-item" cid="n95" mdtype="list_item" style="box-sizing: border-box; margin: 0px; position: relative;"><p cid="n96" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0px 0px 0.5rem; white-space: pre-wrap; position: relative;"><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">优缺点：</span></p><ul class="ul-list" cid="n97" mdtype="list" data-mark="-" style="box-sizing: border-box; margin: 0px; padding-left: 30px; position: relative;"><li class="md-list-item" cid="n98" mdtype="list_item" style="box-sizing: border-box; margin: 0px; position: relative;"><p cid="n99" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0px 0px 0.5rem; white-space: pre-wrap; position: relative;"><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">引脚少，支持多设备总线</span></p></li><li class="md-list-item" cid="n100" mdtype="list_item" style="box-sizing: border-box; margin: 0px; position: relative;"><p cid="n101" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0px 0px 0.5rem; white-space: pre-wrap; position: relative;"><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">速率低，数据帧长度受限</span></p></li></ul></li></ul></li></ul><h3 cid="n102" mdtype="heading" class="md-end-block md-heading" style="box-sizing: border-box; break-after: avoid-page; break-inside: avoid; orphans: 4; font-size: 1.5em; margin-top: 1rem; margin-bottom: 1rem; position: relative; font-weight: bold; line-height: 1.43; cursor: text; white-space: pre-wrap; color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, &quot;Clear Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"><span md-inline="strong" class="md-pair-s " style="box-sizing: border-box;"><strong style="box-sizing: border-box;"><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">对比总结</span></strong></span></h3><figure class="md-table-fig" cid="n103" mdtype="table" style="box-sizing: border-box; margin: 1.2em 0px; overflow-x: auto; max-width: calc(100% + 16px); padding: 0px; cursor: default; color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, &quot;Clear Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;">
特性 | UART | USART | SPI | I2C
-- | -- | -- | -- | --
同步/异步 | 异步 | 同步/异步 | 同步 | 同步
双工模式 | 全双工 | 全双工 | 全双工 | 半双工
线数 | 2线（TX/RX） | 3线（+SCLK） | 4线 | 2线（SDA/SCL）
速率 | ≤1Mbps | ≤4.5Mbps | 可达数十Mbps | ≤3.4Mbps
寻址方式 | 无 | 无 | 片选线 | 设备地址
典型应用 | 调试终端 | 智能卡 | Flash存储器 | 传感器

</figure><p cid="n146" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0.8em 0px; white-space: pre-wrap; position: relative; color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, &quot;Clear Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"></p><p cid="n147" mdtype="paragraph" class="md-end-block md-p md-focus" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0.8em 0px; white-space: pre-wrap; position: relative; color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, &quot;Clear Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"></p><h1 cid="n148" mdtype="heading" class="md-end-block md-heading" style="box-sizing: border-box; break-after: avoid-page; break-inside: avoid; orphans: 4; font-size: 2.25em; margin-top: 1rem; margin-bottom: 1rem; position: relative; font-weight: bold; line-height: 1.2; cursor: text; padding-bottom: 0.3em; border-bottom: 1px solid rgb(238, 238, 238); white-space: pre-wrap; color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, &quot;Clear Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">pid算法</span></h1><h3 cid="n149" mdtype="heading" class="md-end-block md-heading" style="box-sizing: border-box; break-after: avoid-page; break-inside: avoid; orphans: 4; font-size: 1.5em; margin-top: 1rem; margin-bottom: 1rem; position: relative; font-weight: bold; line-height: 1.43; cursor: text; white-space: pre-wrap; color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, &quot;Clear Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">基础原理</span></h3><ul class="ul-list" cid="n150" mdtype="list" data-mark="-" style="box-sizing: border-box; margin: 0.8em 0px; padding-left: 30px; position: relative; color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, &quot;Clear Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"><li class="md-list-item" cid="n151" mdtype="list_item" style="box-sizing: border-box; margin: 0px; position: relative;"><p cid="n152" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0px 0px 0.5rem; white-space: pre-wrap; position: relative;"><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">PID（Proportional-Integral-Derivative）是一种基于</span><span md-inline="strong" class="md-pair-s " style="box-sizing: border-box;"><strong style="box-sizing: border-box;"><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">误差反馈</span></strong></span><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">的</span><span md-inline="strong" class="md-pair-s " style="box-sizing: border-box;"><strong style="box-sizing: border-box;"><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">闭环控制算法</span></strong></span></p></li><li class="md-list-item" cid="n153" mdtype="list_item" style="box-sizing: border-box; margin: 0px; position: relative;"><p cid="n154" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0px 0px 0.5rem; white-space: pre-wrap; position: relative;"><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">核心思想：</span></p><ul class="ul-list" cid="n155" mdtype="list" data-mark="-" style="box-sizing: border-box; margin: 0px; padding-left: 30px; position: relative;"><li class="md-list-item" cid="n156" mdtype="list_item" style="box-sizing: border-box; margin: 0px; position: relative;"><p cid="n157" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0px 0px 0.5rem; white-space: pre-wrap; position: relative;"><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">当前偏差P：快速响应当前误差</span></p></li><li class="md-list-item" cid="n158" mdtype="list_item" style="box-sizing: border-box; margin: 0px; position: relative;"><p cid="n159" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0px 0px 0.5rem; white-space: pre-wrap; position: relative;"><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">历史补偿I：消除稳态误差</span></p></li><li class="md-list-item" cid="n160" mdtype="list_item" style="box-sizing: border-box; margin: 0px; position: relative;"><p cid="n161" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0px 0px 0.5rem; white-space: pre-wrap; position: relative;"><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">未来预测D：抑制超调和震荡</span></p></li></ul></li><li class="md-list-item" cid="n162" mdtype="list_item" style="box-sizing: border-box; margin: 0px; position: relative;"><p cid="n163" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0px 0px 0.5rem; white-space: pre-wrap; position: relative;"><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">理解：现在水温30度，目标水温40度，</span><span md-inline="strong" class="md-pair-s " style="box-sizing: border-box;"><strong style="box-sizing: border-box;"><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">比例P</span></strong></span><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">会迅速增大加热功率，但是存在稳态误差；如果水温卡在38度，</span><span md-inline="strong" class="md-pair-s " style="box-sizing: border-box;"><strong style="box-sizing: border-box;"><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">积分I</span></strong></span><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">会缓慢增加热量直到误差为0；当水温快速从30到40度时，</span><span md-inline="strong" class="md-pair-s " style="box-sizing: border-box;"><strong style="box-sizing: border-box;"><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">微分D</span></strong></span><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">会提前减小加热功率防止过热</span></p></li></ul><h3 cid="n164" mdtype="heading" class="md-end-block md-heading" style="box-sizing: border-box; break-after: avoid-page; break-inside: avoid; orphans: 4; font-size: 1.5em; margin-top: 1rem; margin-bottom: 1rem; position: relative; font-weight: bold; line-height: 1.43; cursor: text; white-space: pre-wrap; color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, &quot;Clear Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">离散形式</span></h3><ul class="ul-list" cid="n165" mdtype="list" data-mark="-" style="box-sizing: border-box; margin: 0.8em 0px; padding-left: 30px; position: relative; color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, &quot;Clear Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"><li class="md-list-item" cid="n166" mdtype="list_item" style="box-sizing: border-box; margin: 0px; position: relative;"><p cid="n167" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0px 0px 0.5rem; white-space: pre-wrap; position: relative;"><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">位置式pid：输出值为全量</span></p><ul class="ul-list" cid="n168" mdtype="list" data-mark="-" style="box-sizing: border-box; margin: 0px; padding-left: 30px; position: relative;"><li class="md-list-item" cid="n169" mdtype="list_item" style="box-sizing: border-box; margin: 0px; position: relative;"><p cid="n170" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0px 0px 0.5rem; white-space: pre-wrap; position: relative;"><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">常用于舵机</span></p></li></ul></li><li class="md-list-item" cid="n171" mdtype="list_item" style="box-sizing: border-box; margin: 0px; position: relative;"><p cid="n172" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0px 0px 0.5rem; white-space: pre-wrap; position: relative;"><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">增量式pid：输出值为变化量</span></p><ul class="ul-list" cid="n173" mdtype="list" data-mark="-" style="box-sizing: border-box; margin: 0px; padding-left: 30px; position: relative;"><li class="md-list-item" cid="n174" mdtype="list_item" style="box-sizing: border-box; margin: 0px; position: relative;"><p cid="n175" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0px 0px 0.5rem; white-space: pre-wrap; position: relative;"><span md-inline="plain" class="md-plain" style="box-sizing: border-box;">常用于电机</span></p></li></ul></li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="c" cid="n176" mdtype="fences" style="box-sizing: border-box; overflow: visible; font-family: var(--monospace); font-size: 0.9em; display: block; break-inside: avoid; text-align: left; white-space: normal; background-image: inherit; background-position: inherit; background-size: inherit; background-repeat: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: rgb(248, 248, 248); position: relative !important; border: 1px solid rgb(231, 234, 237); border-radius: 3px; padding: 8px 4px 6px; margin-bottom: 15px; margin-top: 15px; width: inherit; color: rgb(51, 51, 51); font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"><span role="presentation" style="box-sizing: border-box; padding-right: 0.1px;"><span class="cm-comment" style="box-sizing: border-box; color: rgb(170, 85, 0);">//代码实现(c语言)</span></span><br><span role="presentation" style="box-sizing: border-box; padding-right: 0.1px;"><span class="cm-keyword" style="box-sizing: border-box; color: rgb(119, 0, 136);">typedef</span> <span class="cm-keyword" style="box-sizing: border-box; color: rgb(119, 0, 136);">struct</span> {</span><br><span role="presentation" style="box-sizing: border-box; padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable-3" style="box-sizing: border-box; color: rgb(0, 136, 85);">float</span> <span class="cm-variable" style="box-sizing: border-box; color: rgb(0, 0, 0);">Kp</span>, <span class="cm-variable" style="box-sizing: border-box; color: rgb(0, 0, 0);">Ki</span>, <span class="cm-variable" style="box-sizing: border-box; color: rgb(0, 0, 0);">Kd</span>; &nbsp; &nbsp;<span class="cm-comment" style="box-sizing: border-box; color: rgb(170, 85, 0);">// PID参数</span></span><br><span role="presentation" style="box-sizing: border-box; padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable-3" style="box-sizing: border-box; color: rgb(0, 136, 85);">float</span> <span class="cm-variable" style="box-sizing: border-box; color: rgb(0, 0, 0);">integral</span>; &nbsp; &nbsp; &nbsp;<span class="cm-comment" style="box-sizing: border-box; color: rgb(170, 85, 0);">// 积分累积量</span></span><br><span role="presentation" style="box-sizing: border-box; padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable-3" style="box-sizing: border-box; color: rgb(0, 136, 85);">float</span> <span class="cm-variable" style="box-sizing: border-box; color: rgb(0, 0, 0);">last_error</span>; &nbsp; &nbsp;<span class="cm-comment" style="box-sizing: border-box; color: rgb(170, 85, 0);">// 上次误差</span></span><br><span role="presentation" style="box-sizing: border-box; padding-right: 0.1px;">} <span class="cm-variable" style="box-sizing: border-box; color: rgb(0, 0, 0);">PID_Controller</span>;</span><br><span role="presentation" style="box-sizing: border-box; padding-right: 0.1px;"><span cm-text="" style="box-sizing: border-box;">​</span></span><br><span role="presentation" style="box-sizing: border-box; padding-right: 0.1px;"><span class="cm-variable-3" style="box-sizing: border-box; color: rgb(0, 136, 85);">float</span> <span class="cm-def" style="box-sizing: border-box; color: rgb(0, 0, 255);">PID_Calculate</span>(<span class="cm-variable" style="box-sizing: border-box; color: rgb(0, 0, 0);">PID_Controller</span> <span class="cm-operator" style="box-sizing: border-box; color: rgb(152, 26, 26);">*</span><span class="cm-variable" style="box-sizing: border-box; color: rgb(0, 0, 0);">pid</span>, <span class="cm-variable-3" style="box-sizing: border-box; color: rgb(0, 136, 85);">float</span> <span class="cm-variable" style="box-sizing: border-box; color: rgb(0, 0, 0);">setpoint</span>, <span class="cm-variable-3" style="box-sizing: border-box; color: rgb(0, 136, 85);">float</span> <span class="cm-variable" style="box-sizing: border-box; color: rgb(0, 0, 0);">feedback</span>) {</span><br><span role="presentation" style="box-sizing: border-box; padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable-3" style="box-sizing: border-box; color: rgb(0, 136, 85);">float</span> <span class="cm-variable" style="box-sizing: border-box; color: rgb(0, 0, 0);">error</span> <span class="cm-operator" style="box-sizing: border-box; color: rgb(152, 26, 26);">=</span> <span class="cm-variable" style="box-sizing: border-box; color: rgb(0, 0, 0);">setpoint</span> <span class="cm-operator" style="box-sizing: border-box; color: rgb(152, 26, 26);">-</span> <span class="cm-variable" style="box-sizing: border-box; color: rgb(0, 0, 0);">feedback</span>;<span class="cm-tab" role="presentation" cm-text="	" style="box-sizing: border-box; font-family: var(--monospace); position: relative; display: inline-block;">  </span><span class="cm-comment" style="box-sizing: border-box; color: rgb(170, 85, 0);">//目标-反馈值</span></span><br><span role="presentation" style="box-sizing: border-box; padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable" style="box-sizing: border-box; color: rgb(0, 0, 0);">pid</span><span class="cm-operator" style="box-sizing: border-box; color: rgb(152, 26, 26);">-&gt;</span><span class="cm-variable" style="box-sizing: border-box; color: rgb(0, 0, 0);">integral</span> <span class="cm-operator" style="box-sizing: border-box; color: rgb(152, 26, 26);">+=</span> <span class="cm-variable" style="box-sizing: border-box; color: rgb(0, 0, 0);">error</span>;<span class="cm-tab" role="presentation" cm-text="	" style="box-sizing: border-box; font-family: var(--monospace); position: relative; display: inline-block;"> </span><span class="cm-tab" role="presentation" cm-text="	" style="box-sizing: border-box; font-family: var(--monospace); position: relative; display: inline-block;">    </span><span class="cm-tab" role="presentation" cm-text="	" style="box-sizing: border-box; font-family: var(--monospace); position: relative; display: inline-block;">    </span><span class="cm-tab" role="presentation" cm-text="	" style="box-sizing: border-box; font-family: var(--monospace); position: relative; display: inline-block;">    </span><span class="cm-comment" style="box-sizing: border-box; color: rgb(170, 85, 0);">//积分</span></span><br><span role="presentation" style="box-sizing: border-box; padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable-3" style="box-sizing: border-box; color: rgb(0, 136, 85);">float</span> <span class="cm-variable" style="box-sizing: border-box; color: rgb(0, 0, 0);">d_error</span> <span class="cm-operator" style="box-sizing: border-box; color: rgb(152, 26, 26);">=</span> <span class="cm-variable" style="box-sizing: border-box; color: rgb(0, 0, 0);">error</span> <span class="cm-operator" style="box-sizing: border-box; color: rgb(152, 26, 26);">-</span> <span class="cm-variable" style="box-sizing: border-box; color: rgb(0, 0, 0);">pid</span><span class="cm-operator" style="box-sizing: border-box; color: rgb(152, 26, 26);">-&gt;</span><span class="cm-variable" style="box-sizing: border-box; color: rgb(0, 0, 0);">last_error</span>;<span class="cm-tab" role="presentation" cm-text="	" style="box-sizing: border-box; font-family: var(--monospace); position: relative; display: inline-block;">    </span><span class="cm-comment" style="box-sizing: border-box; color: rgb(170, 85, 0);">//误差-上次误差</span></span><br><span role="presentation" style="box-sizing: border-box; padding-right: 0.1px;"> &nbsp; &nbsp;</span><br><span role="presentation" style="box-sizing: border-box; padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-comment" style="box-sizing: border-box; color: rgb(170, 85, 0);">// 计算输出（带限幅）</span></span><br><span role="presentation" style="box-sizing: border-box; padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable-3" style="box-sizing: border-box; color: rgb(0, 136, 85);">float</span> <span class="cm-variable" style="box-sizing: border-box; color: rgb(0, 0, 0);">output</span> <span class="cm-operator" style="box-sizing: border-box; color: rgb(152, 26, 26);">=</span> <span class="cm-variable" style="box-sizing: border-box; color: rgb(0, 0, 0);">pid</span><span class="cm-operator" style="box-sizing: border-box; color: rgb(152, 26, 26);">-&gt;</span><span class="cm-variable" style="box-sizing: border-box; color: rgb(0, 0, 0);">Kp</span> <span class="cm-operator" style="box-sizing: border-box; color: rgb(152, 26, 26);">*</span> <span class="cm-variable" style="box-sizing: border-box; color: rgb(0, 0, 0);">error</span> <span class="cm-operator" style="box-sizing: border-box; color: rgb(152, 26, 26);">+</span> <span class="cm-variable" style="box-sizing: border-box; color: rgb(0, 0, 0);">pid</span><span class="cm-operator" style="box-sizing: border-box; color: rgb(152, 26, 26);">-&gt;</span><span class="cm-variable" style="box-sizing: border-box; color: rgb(0, 0, 0);">Ki</span> <span class="cm-operator" style="box-sizing: border-box; color: rgb(152, 26, 26);">*</span> <span class="cm-variable" style="box-sizing: border-box; color: rgb(0, 0, 0);">pid</span><span class="cm-operator" style="box-sizing: border-box; color: rgb(152, 26, 26);">-&gt;</span><span class="cm-variable" style="box-sizing: border-box; color: rgb(0, 0, 0);">integral</span> <span class="cm-operator" style="box-sizing: border-box; color: rgb(152, 26, 26);">+</span> <span class="cm-variable" style="box-sizing: border-box; color: rgb(0, 0, 0);">pid</span><span class="cm-operator" style="box-sizing: border-box; color: rgb(152, 26, 26);">-&gt;</span><span class="cm-variable" style="box-sizing: border-box; color: rgb(0, 0, 0);">Kd</span> <span class="cm-operator" style="box-sizing: border-box; color: rgb(152, 26, 26);">*</span> <span class="cm-variable" style="box-sizing: border-box; color: rgb(0, 0, 0);">d_error</span>;</span><br><span role="presentation" style="box-sizing: border-box; padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable" style="box-sizing: border-box; color: rgb(0, 0, 0);">output</span> <span class="cm-operator" style="box-sizing: border-box; color: rgb(152, 26, 26);">=</span> (<span class="cm-variable" style="box-sizing: border-box; color: rgb(0, 0, 0);">output</span> <span class="cm-operator" style="box-sizing: border-box; color: rgb(152, 26, 26);">&gt;</span> <span class="cm-variable" style="box-sizing: border-box; color: rgb(0, 0, 0);">MAX_OUTPUT</span>) <span class="cm-operator" style="box-sizing: border-box; color: rgb(152, 26, 26);">?</span> <span class="cm-variable" style="box-sizing: border-box; color: rgb(0, 0, 0);">MAX_OUTPUT</span> : (<span class="cm-variable" style="box-sizing: border-box; color: rgb(0, 0, 0);">output</span> <span class="cm-operator" style="box-sizing: border-box; color: rgb(152, 26, 26);">&lt;</span> <span class="cm-operator" style="box-sizing: border-box; color: rgb(152, 26, 26);">-</span><span class="cm-variable" style="box-sizing: border-box; color: rgb(0, 0, 0);">MAX_OUTPUT</span>) <span class="cm-operator" style="box-sizing: border-box; color: rgb(152, 26, 26);">?</span> <span class="cm-operator" style="box-sizing: border-box; color: rgb(152, 26, 26);">-</span><span class="cm-variable" style="box-sizing: border-box; color: rgb(0, 0, 0);">MAX_OUTPUT</span> : <span class="cm-variable" style="box-sizing: border-box; color: rgb(0, 0, 0);">output</span>;</span><br><span role="presentation" style="box-sizing: border-box; padding-right: 0.1px;"> &nbsp; &nbsp;</span><br><span role="presentation" style="box-sizing: border-box; padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable" style="box-sizing: border-box; color: rgb(0, 0, 0);">pid</span><span class="cm-operator" style="box-sizing: border-box; color: rgb(152, 26, 26);">-&gt;</span><span class="cm-variable" style="box-sizing: border-box; color: rgb(0, 0, 0);">last_error</span> <span class="cm-operator" style="box-sizing: border-box; color: rgb(152, 26, 26);">=</span> <span class="cm-variable" style="box-sizing: border-box; color: rgb(0, 0, 0);">error</span>;</span><br><span role="presentation" style="box-sizing: border-box; padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword" style="box-sizing: border-box; color: rgb(119, 0, 136);">return</span> <span class="cm-variable" style="box-sizing: border-box; color: rgb(0, 0, 0);">output</span>;</span><br><span role="presentation" style="box-sizing: border-box; padding-right: 0.1px;">}</span></pre><p cid="n177" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0.8em 0px; white-space: pre-wrap; position: relative; color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, &quot;Clear Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"></p><p cid="n178" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0.8em 0px; white-space: pre-wrap; position: relative; color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, &quot;Clear Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"></p><p cid="n179" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0.8em 0px; white-space: pre-wrap; position: relative; color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, &quot;Clear Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"></p><p cid="n180" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0.8em 0px; white-space: pre-wrap; position: relative; color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, &quot;Clear Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"></p><p cid="n181" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0.8em 0px; white-space: pre-wrap; position: relative; color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, &quot;Clear Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"></p><p cid="n182" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0.8em 0px; white-space: pre-wrap; position: relative; color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, &quot;Clear Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"></p><p cid="n183" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0.8em 0px; white-space: pre-wrap; position: relative; color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, &quot;Clear Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"></p><p cid="n184" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0.8em 0px; white-space: pre-wrap; position: relative; color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, &quot;Clear Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"></p><p cid="n185" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0.8em 0px; white-space: pre-wrap; position: relative; color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, &quot;Clear Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"></p><p cid="n186" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0.8em 0px; white-space: pre-wrap; position: relative; color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, &quot;Clear Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"></p><p cid="n187" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0.8em 0px; white-space: pre-wrap; position: relative; color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, &quot;Clear Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"></p><p cid="n188" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0.8em 0px; white-space: pre-wrap; position: relative; color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, &quot;Clear Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"></p><p cid="n189" mdtype="paragraph" class="md-end-block md-p" style="box-sizing: border-box; line-height: inherit; orphans: 4; margin: 0.8em 0px; white-space: pre-wrap; position: relative; color: rgb(51, 51, 51); font-family: &quot;Open Sans&quot;, &quot;Clear Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"></p><br class="Apple-interchange-newline"><!--EndFragment-->
</body>
</html>